<!--Original template sample created by Varo (https://codepen.io/Varo/)-->
<!-- I modified few things to create this chat -->
<!--from: https://codepen.io/Varo/pen/gbZzgr-->
<html>
<head>
  <title>chat-nodejs-ui</title>
  <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
<div class="menu">
  <div class="back"><i class="fa fa-chevron-left"></i> <img src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAXWAAAAJGE0NWM4YzRlLWNkZTUtNDM0NC1hOTQ5LTMwZWI1ZDc4ODA0Mg.jpg" draggable="false"/></div>
  <div class="name">Juan</div>
  <div class="last">18:09</div>
</div>
<ol id="chat" class="chat">
  <li class="other">
    <div class="avatar"><img src="http://i.imgur.com/DY6gND0.png" draggable="false"/></div>
    <div class="msg">
      <p>Test <emoji class="pizza"/></p>
      <time>20:17</time>
    </div>
  </li>
  <li class="self">
    <div class="avatar"><img src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAXWAAAAJGE0NWM4YzRlLWNkZTUtNDM0NC1hOTQ5LTMwZWI1ZDc4ODA0Mg.jpg" draggable="false"/></div>
    <div class="msg">
      <p>Response placeholder <emoji class="books"/></p>
      <time>20:18</time>
    </div>
  </li>

  <div class="day">Date placeholder</div>

  <li class="other">
    <div class="avatar"><img src="http://i.imgur.com/DY6gND0.png" draggable="false"/></div>
    <div class="msg">
      <p>Test</p>
      <time>18:07</time>
    </div>
  </li>
</ol>

<input class="textarea" id="message" type="text" placeholder="Type here!"/><div class="emojis"></div>

<script src="/socket.io/socket.io.js"></script>
<script src="/lib/jquery/dist/jquery.js"></script>

<li class="other message-box hidden">
  <div class="avatar"><img src="http://i.imgur.com/DY6gND0.png" draggable="false"/></div>
  <div class="msg">
    <!--message goes here-->
  </div>
</li>

<script>
  var socket = io();
  var message = null;
  var messageBox = $('.message-box');
  var newMessage = null;

  $('#message').keydown(function(event) {
    if (event.keyCode == 13) {
      message = $('#message');
      socket.emit('chat message', message.val()); // emit #message value
      message.val(''); // clear
      return false;
    }
  });

  socket.on('chat message', function(msg) {
    console.log(msg);
    newMessage = messageBox.clone().removeClass('hidden');
    newMessage.children('.msg').text(msg);
    $('#chat').append(newMessage);
  });
</script>
</body>
</html>
